{% extends "base.html" %}

{% block content %}
<div class="card">
  <!-- Final Score -->
  <div class="result">You scored {{ score }} out of {{ total }}</div>

  <!-- Confetti for perfect score -->
  {% if score == total %}
    <div class="perfect">ðŸŽ‰ Perfect Score! ðŸŽ‰</div>
  {% endif %}

  <!-- Questions the user got wrong -->
  {% if incorrect_questions %}
    <h3>Questions you missed:</h3>
    <ol>
      {% for q in incorrect_questions %}
        <li>
          <span class="q">{{ q.question }}</span><br>
          Your answer: <span class="your">{{ q.answer }}</span><br>
          Correct answer: <span class="correct">{{ q.correct }}</span>
        </li>
      {% endfor %}
    </ol>
  {% endif %}

  <!-- Play Again Button -->
  <div class="actions">
    <a href="{{ url_for('index') }}" class="btn">Play Again ðŸ”„</a>
  </div>
</div>
{% endblock %}

{% block scripts %}
{% if score == total %}
<script>
  // Trigger confetti on perfect score
  confetti({
    particleCount: 200,
    spread: 70,
    origin: { y: 0.6 }
  });
</script>
{% endif %}
{% endblock %}
